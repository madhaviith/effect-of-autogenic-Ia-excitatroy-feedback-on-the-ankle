# Effect of Autogenic Ia-excitaroy feedback on the ankle Angle 
This package essentially contais two simulations folders designated as **sim_o**, **sim_c**. Each of these folders are generated by NEUIROiD platform. And the contained codes are capable of running neuron-musculoskeletal(NEURON-OPENSIM) synchronized simulations.
Each of these folders contain 

**neuroid.hoc** 

              - Autogenerated code, consists of spinal connectome catering to Ia-excitatiry feedback circtuits of ankle formed by Ia-Afferent neurons and motoneurons supplying soleus, tibialis anterior, gastrocnemeus medialis, gastrocnemeus lateralis muscles.

**main.py** 
           
            - runs the neuron simulations
            
            - synthesizes and sends msucles activations to msucluskeletal model
            
            - receives the 

**neuroid_osim_glue.py** 

            - runs the musculoskeletal simulations
            
            - receives muscle activations from the motoneurons
            
            - synthesizes the afferent activity and send them to Afferent neurons of connectome.
      
Both **main.py** and **neuroid_osim_glue.py** should be run parallely in-order to achieve neuro-musculoskeletal co-simulation (see readme.pdf to run the model)

Although the code contents of **sim_o** and **sim_c** are same, they differ setup and the output data. While former folder runs open-loop simulations and later folder close-loop with proprioception 'on'. 

**templates** 

             - folder contains .hoc files and .mod files required for the neuronal models. 

## Software and Hardware requirements

1. **Linux platform (preferably Ubuntu)**

Both code development and testing was carried out on Ubuntu-18.04.6-LTS desktop with intel-core i7 CPU and NVIDIA quadro P1000 graphics and 16GB RAM space. From our experince a good graphics card and RAM >8GB is rquired to run the simulations.   

2. **python 3.7**

requied librabries: numpy, pandas, os, matplotlib, seaborn, openpyxl, opensim, neuron

libraries "opensim" and "neuron" can installed in the steps 2 and 3

3. **OpenSim with python3 bindings**

Install opensim version 4.x from the link: 
https://github.com/opensim-org/opensim-core

Confirm the installion of OpenSim with python bindings on Ubuntu by follwoing the instructions given in the link:
https://simtk-confluence.stanford.edu:8443/display/OpenSim/Scripting+in+Python

4. **NEURON with python3 bindings**

NEURON software can be installed from the link here: https://www.neuron.yale.edu/neuron/download
However the codes were tested on NEURON version 7.6. And it is prefferable to install NEURON 7.6 which can be found here: https://neuron.yale.edu/ftp/neuron/versions/v7.6/ 

Once the required version is downloaded, follow the installation instructions to **setup InterViews** and **setup NEURON with python** here: https://neuron.yale.edu/neuron/download/compile_linux. Also check if **python_path** is properly provided and is bound with NEURON as per the instructions provided in the same link. 

#### Download all the contents of this folder then refer to readme.pdf to run the model and generate the graphs. 
Or Once downloaded simply execute the following in the terminal to only plot the simulation output   

  - python plots.py

